/*
@license

dhtmlxGantt v.5.2.0 Professional
This software is covered by DHTMLX Commercial License. Usage without proper license is prohibited.

(c) Dinamenta, UAB.

*/!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/codebase/",n(n.s=207)}({17:function(t,e){t.exports=function(t){t._get_linked_task=function(e,n){var a=null,r=n?e.target:e.source;return t.isTaskExists(r)&&(a=t.getTask(r)),a},t._get_link_target=function(e){return t._get_linked_task(e,!0)},t._get_link_source=function(e){return t._get_linked_task(e,!1)};var e=!1,n={},a={},r={},i={};t._isLinksCacheEnabled=function(){return e},t._startLinksCache=function(){n={},a={},r={},i={},e=!0},t._endLinksCache=function(){n={},a={},r={},i={},e=!1},t._formatLink=function(a){if(e&&n[a.id])return n[a.id];var r=[],i=this._get_link_target(a),s=this._get_link_source(a);if(!s||!i)return r;if(t.isSummaryTask(i)&&t.isChildOf(s.id,i.id)||t.isSummaryTask(s)&&t.isChildOf(i.id,s.id))return r;for(var c=this._getImplicitLinks(a,s,function(t){return 0},!0),u=t.config.auto_scheduling_move_projects,o=this.isSummaryTask(i)?this.getSubtaskDates(i.id):{start_date:i.start_date,end_date:i.end_date},g=this._getImplicitLinks(a,i,function(e){return u?e.$target.length||t.getState().drag_id==e.id?0:t.calculateDuration({start_date:o.start_date,end_date:e.start_date,task:s}):0}),d=0,h=c.length;d<h;d++)for(var l=c[d],_=0,f=g.length;_<f;_++){var k=g[_],p=1*l.lag+1*k.lag,v={id:a.id,type:a.type,source:l.task,target:k.task,lag:(1*a.lag||0)+p};r.push(t._convertToFinishToStartLink(k.task,v,s,i,l.taskParent,k.taskParent))}return e&&(n[a.id]=r),r},t._isAutoSchedulable=function(t){return!1!==t.auto_scheduling},t._getImplicitLinks=function(e,n,a,r){var i=[];if(this.isSummaryTask(n)){var s,c={};for(var u in this.eachTask(function(t){this.isSummaryTask(t)||(c[t.id]=t)},n.id),c){var o=c[u],g=r?o.$source:o.$target;s=!1;for(var d=0;d<g.length;d++){var h=t.getLink(g[d]),l=r?h.target:h.source,_=c[l];if(_&&!1!==o.auto_scheduling&&!1!==_.auto_scheduling&&(h.target==_.id&&Math.abs(h.lag)<=_.duration||h.target==o.id&&Math.abs(h.lag)<=o.duration)){s=!0;break}}s||i.push({task:o.id,taskParent:o.parent,lag:a(o)})}}else i.push({task:n.id,taskParent:n.parent,lag:0});return i},t._getDirectDependencies=function(t,e){for(var n=[],a=[],r=e?t.$source:t.$target,i=0;i<r.length;i++){var s=this.getLink(r[i]);if(this.isTaskExists(s.source)&&this.isTaskExists(s.target)){var c=this.getTask(s.target);this._isAutoSchedulable(c)&&n.push(this.getLink(r[i]))}}for(i=0;i<n.length;i++)a=a.concat(this._formatLink(n[i]));return a},t._getInheritedDependencies=function(t,n){var i,s=!1,c=[];if(this.isTaskExists(t.id)){this.getParent(t.id);this.eachParent(function(t){var u;s||(e&&(i=n?a:r)[t.id]?c.push.apply(c,i[t.id]):this.isSummaryTask(t)&&(this._isAutoSchedulable(t)?(u=this._getDirectDependencies(t,n),e&&(i[t.id]=u),c.push.apply(c,u)):s=!0))},t.id,this)}return c},t._getDirectSuccessors=function(t){return this._getDirectDependencies(t,!0)},t._getInheritedSuccessors=function(t){return this._getInheritedDependencies(t,!0)},t._getDirectPredecessors=function(t){return this._getDirectDependencies(t,!1)},t._getInheritedPredecessors=function(t){return this._getInheritedDependencies(t,!1)},t._getSuccessors=function(t,e){var n=this._getDirectSuccessors(t);return e?n:n.concat(this._getInheritedSuccessors(t))},t._getPredecessors=function(t,n){var a,r=t.id+n;if(e&&i[r])return i[r];var s=this._getDirectPredecessors(t);return a=n?s:s.concat(this._getInheritedPredecessors(t)),e&&(i[r]=a),a},t._convertToFinishToStartLink=function(e,n,a,r,i,s){var c={target:e,link:t.config.links.finish_to_start,id:n.id,lag:n.lag||0,source:n.source,preferredStart:null,sourceParent:i,targetParent:s},u=0;switch(n.type){case t.config.links.start_to_start:u=-a.duration;break;case t.config.links.finish_to_finish:u=-r.duration;break;case t.config.links.start_to_finish:u=-a.duration-r.duration;break;default:u=0}return c.lag+=u,c}}},207:function(t,e,n){n(17)(gantt),gantt.config.highlight_critical_path=!1,gantt._criticalPathHandler=function(){gantt.config.highlight_critical_path&&gantt.render()},gantt.attachEvent("onAfterLinkAdd",gantt._criticalPathHandler),gantt.attachEvent("onAfterLinkUpdate",gantt._criticalPathHandler),gantt.attachEvent("onAfterLinkDelete",gantt._criticalPathHandler),gantt.attachEvent("onAfterTaskAdd",gantt._criticalPathHandler),gantt.attachEvent("onAfterTaskUpdate",gantt._criticalPathHandler),gantt.attachEvent("onAfterTaskDelete",gantt._criticalPathHandler),gantt._isCriticalTask=function(t,e){if(t&&t.id){var n=e||{};if(this._isProjectEnd(t))return!0;var a=!1;gantt._isLinksCacheEnabled()||(gantt._startLinksCache(),a=!0),n[t.id]=!0;for(var r=this._getDependencies(t),i=0;i<r.length;i++){var s=this.getTask(r[i].target);if(this._getSlack(t,s,r[i])<=0&&!n[s.id]&&this._isCriticalTask(s,n))return!0}return a&&gantt._endLinksCache(),!1}},gantt.isCriticalTask=function(t){return gantt.assert(!(!t||void 0===t.id),"Invalid argument for gantt.isCriticalTask"),this._isCriticalTask(t,{})},gantt.isCriticalLink=function(t){return this.isCriticalTask(gantt.getTask(t.source))},gantt.getSlack=function(t,e){for(var n=[],a={},r=0;r<t.$source.length;r++)a[t.$source[r]]=!0;for(r=0;r<e.$target.length;r++)a[e.$target[r]]&&n.push(e.$target[r]);var i=[];for(r=0;r<n.length;r++){var s=this.getLink(n[r]);i.push(this._getSlack(t,e,this._convertToFinishToStartLink(s.id,s,t,e,t.parent,e.parent)))}return Math.min.apply(Math,i)},gantt._getSlack=function(t,e,n){var a=this.config.types,r=null;r=this.getTaskType(t.type)==a.milestone?t.start_date:t.end_date;var i=e.start_date,s=0;s=+r>+i?-this.calculateDuration({start_date:i,end_date:r,task:t}):this.calculateDuration({start_date:r,end_date:i,task:t});var c=n.lag;return c&&1*c==c&&(s-=c),s},gantt._getProjectEnd=function(){var t=gantt.getTaskByTime();return(t=t.sort(function(t,e){return+t.end_date>+e.end_date?1:-1})).length?t[t.length-1].end_date:null},gantt._isProjectEnd=function(t){return!this._hasDuration({start_date:t.end_date,end_date:this._getProjectEnd(),task:t})},gantt._getSummaryPredecessors=function(t){var e=[];return this.eachParent(function(t){this.isSummaryTask(t)&&(e=e.concat(gantt._getDependencies(t)))},t),e},gantt._getDependencies=function(t){return this._getSuccessors(t).concat(this._getSummaryPredecessors(t))}}});
//# sourceMappingURL=dhtmlxgantt_critical_path.js.map